{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect, useContext } from 'react';\nimport { FirebaseContext } from '../context/firebase';\nexport default function useAuthListener() {\n  _s();\n\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('authUser')));\n  const {\n    firebase\n  } = useContext(FirebaseContext);\n  useEffect(() => {\n    const listener = firebase.auth().onAuthStateChanged(authUser => {\n      if (authUser) {\n        localStorage.setItem('authUser', JSON.stringify(authUser));\n        setUser(authUser);\n      } else {\n        localStorage.removeItem('authUser');\n        setUser(null);\n      }\n    });\n    return () => listener();\n  }, []);\n  return {\n    user\n  };\n}\n\n_s(useAuthListener, \"og5KOqGEvEXX6clV2sRD6qnxvZ4=\");","map":{"version":3,"names":["useState","useEffect","useContext","FirebaseContext","useAuthListener","user","setUser","JSON","parse","localStorage","getItem","firebase","listener","auth","onAuthStateChanged","authUser","setItem","stringify","removeItem"],"sources":["/Users/aidanmatchette/quebec/projects/netflix/netflix-clone/src/hooks/use-auth-listener.js"],"sourcesContent":["import { useState, useEffect, useContext } from 'react'\nimport { FirebaseContext } from '../context/firebase'\n\n\nexport default function useAuthListener() {\n  const [user, setUser] = useState(\n    JSON.parse(localStorage.getItem('authUser'))\n  )\n  const { firebase } = useContext(FirebaseContext)\n\n  useEffect(() => {\n    const listener = firebase.auth().onAuthStateChanged((authUser) => {\n      if (authUser) {\n        localStorage.setItem('authUser', JSON.stringify(authUser))\n        setUser(authUser)\n      } else {\n        localStorage.removeItem('authUser')\n        setUser(null)\n      }\n    })\n    return () => listener()\n  }, [])\n  return { user } \n}\n"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,UAA9B,QAAgD,OAAhD;AACA,SAASC,eAAT,QAAgC,qBAAhC;AAGA,eAAe,SAASC,eAAT,GAA2B;EAAA;;EACxC,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAC9BO,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAD8B,CAAhC;EAGA,MAAM;IAAEC;EAAF,IAAeT,UAAU,CAACC,eAAD,CAA/B;EAEAF,SAAS,CAAC,MAAM;IACd,MAAMW,QAAQ,GAAGD,QAAQ,CAACE,IAAT,GAAgBC,kBAAhB,CAAoCC,QAAD,IAAc;MAChE,IAAIA,QAAJ,EAAc;QACZN,YAAY,CAACO,OAAb,CAAqB,UAArB,EAAiCT,IAAI,CAACU,SAAL,CAAeF,QAAf,CAAjC;QACAT,OAAO,CAACS,QAAD,CAAP;MACD,CAHD,MAGO;QACLN,YAAY,CAACS,UAAb,CAAwB,UAAxB;QACAZ,OAAO,CAAC,IAAD,CAAP;MACD;IACF,CARgB,CAAjB;IASA,OAAO,MAAMM,QAAQ,EAArB;EACD,CAXQ,EAWN,EAXM,CAAT;EAYA,OAAO;IAAEP;EAAF,CAAP;AACD;;GAnBuBD,e"},"metadata":{},"sourceType":"module"}