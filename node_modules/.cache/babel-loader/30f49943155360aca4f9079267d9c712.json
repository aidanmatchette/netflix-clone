{"ast":null,"code":"import _slicedToArray from\"/Users/aidanmatchette/quebec/projects/netflix/netflix-clone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext}from'react';import Fuse from'fuse.js';import{Card,Header,Loading,Player}from'../components';import*as ROUTES from'../constants/routes';import logo from'../logo.svg';import{FirebaseContext}from'../context/firebase';import{SelectProfileContainer}from'./profiles';import{FooterContainer}from'./footer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export function BrowseContainer(_ref){var slides=_ref.slides;var _useState=useState('series'),_useState2=_slicedToArray(_useState,2),category=_useState2[0],setCategory=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),profile=_useState4[0],setProfile=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),searchTerm=_useState8[0],setSearchTerm=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),slideRows=_useState10[0],setSlideRows=_useState10[1];var _useContext=useContext(FirebaseContext),firebase=_useContext.firebase;var user=firebase.auth().currentUser||{};useEffect(function(){setTimeout(function(){setLoading(false);},3000);},[profile.displayName]);useEffect(function(){setSlideRows(slides[category]);},[slides,category]);useEffect(function(){var fuse=new Fuse(slideRows,{keys:['data.description','data.title','data.genre']});var results=fuse.search(searchTerm).map(function(_ref2){var item=_ref2.item;return item;});if(slideRows.length>0&&searchTerm.length>3&&results.length>0){setSlideRows(results);}else{setSlideRows(slides[category]);}},[searchTerm]);return profile.displayName?/*#__PURE__*/_jsxs(_Fragment,{children:[loading?/*#__PURE__*/_jsx(Loading,{src:user.photoURL}):/*#__PURE__*/_jsx(Loading.ReleaseBody,{}),/*#__PURE__*/_jsxs(Header,{src:\"joker1\",dontShowOnSmallViewPort:true,children:[/*#__PURE__*/_jsxs(Header.Frame,{children:[/*#__PURE__*/_jsxs(Header.Group,{children:[/*#__PURE__*/_jsx(Header.Logo,{to:ROUTES.HOME,src:logo,alt:\"Netflix\"}),/*#__PURE__*/_jsx(Header.TextLink,{active:category==='series'?'true':'false',onClick:function onClick(){return setCategory('series');},children:\"Series\"}),/*#__PURE__*/_jsx(Header.TextLink,{active:category==='films'?'true':'false',onClick:function onClick(){return setCategory('films');},children:\"Films\"})]}),/*#__PURE__*/_jsxs(Header.Group,{children:[/*#__PURE__*/_jsx(Header.Search,{searchTerm:searchTerm,setSearchTerm:setSearchTerm}),/*#__PURE__*/_jsxs(Header.Profile,{children:[/*#__PURE__*/_jsx(Header.Picture,{src:user.photoURL}),/*#__PURE__*/_jsxs(Header.Dropdown,{children:[/*#__PURE__*/_jsxs(Header.Group,{children:[/*#__PURE__*/_jsx(Header.Picture,{src:user.photoURL}),/*#__PURE__*/_jsx(Header.TextLink,{children:user.displayName})]}),/*#__PURE__*/_jsx(Header.Group,{children:/*#__PURE__*/_jsx(Header.TextLink,{onClick:function onClick(){return firebase.auth().signOut();},children:\"Sign out\"})})]})]})]})]}),/*#__PURE__*/_jsxs(Header.Feature,{children:[/*#__PURE__*/_jsx(Header.FeatureCallOut,{children:\"Watch Joker Now\"}),/*#__PURE__*/_jsx(Header.Text,{children:\"Forever alone in a crowd, failed comedian Arthur Fleck seeks connection as he walks the streets of Gotham City. Arthur wears two masks -- the one he paints for his day job as a clown, and the guise he projects in a futile attempt to feel like he is part of the world around him.\"}),/*#__PURE__*/_jsx(Header.PlayButton,{children:\"Play\"})]})]}),/*#__PURE__*/_jsx(Card.Group,{children:slideRows.map(function(slideItem){return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Title,{children:slideItem.title}),/*#__PURE__*/_jsx(Card.Entities,{children:slideItem.data.map(function(item){return/*#__PURE__*/_jsxs(Card.Item,{item:item,children:[/*#__PURE__*/_jsx(Card.Image,{src:\"/images/\".concat(category,\"/\").concat(item.genre,\"/\").concat(item.slug,\"/small.jpg\")}),/*#__PURE__*/_jsxs(Card.Meta,{children:[/*#__PURE__*/_jsx(Card.SubTitle,{children:item.title}),/*#__PURE__*/_jsx(Card.Text,{children:item.description})]})]},item.docId);})}),/*#__PURE__*/_jsx(Card.Feature,{category:category,children:/*#__PURE__*/_jsxs(Player,{children:[/*#__PURE__*/_jsx(Player.Button,{}),/*#__PURE__*/_jsx(Player.Video,{src:\"/videos/bunny.mp4\"})]})})]},\"\".concat(category,\"-\").concat(slideItem.title.toLowerCase()));})}),/*#__PURE__*/_jsx(FooterContainer,{})]}):/*#__PURE__*/_jsx(SelectProfileContainer,{user:user,setProfile:setProfile});}","map":{"version":3,"names":["React","useState","useEffect","useContext","Fuse","Card","Header","Loading","Player","ROUTES","logo","FirebaseContext","SelectProfileContainer","FooterContainer","BrowseContainer","slides","category","setCategory","profile","setProfile","loading","setLoading","searchTerm","setSearchTerm","slideRows","setSlideRows","firebase","user","auth","currentUser","setTimeout","displayName","fuse","keys","results","search","map","item","length","photoURL","HOME","signOut","slideItem","title","data","genre","slug","description","docId","toLowerCase"],"sources":["/Users/aidanmatchette/quebec/projects/netflix/netflix-clone/src/containers/browse.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\nimport Fuse from 'fuse.js'\nimport { Card, Header, Loading, Player} from '../components'\nimport * as ROUTES from '../constants/routes'\nimport logo from '../logo.svg'\nimport { FirebaseContext } from '../context/firebase'\nimport { SelectProfileContainer } from './profiles'\nimport { FooterContainer } from './footer'\n\nexport function BrowseContainer({ slides }) {\n  const [category, setCategory] = useState('series')\n  const [profile, setProfile] = useState({})\n  const [loading, setLoading] = useState(true)\n  const [searchTerm, setSearchTerm] = useState('')\n  const [slideRows, setSlideRows] = useState([])\n\n  const { firebase } = useContext(FirebaseContext)\n  const user = firebase.auth().currentUser || {}\n\n \n  useEffect(() => {\n    setTimeout(() => {\n      setLoading(false)\n    }, 3000)\n  }, [profile.displayName])\n\n  useEffect(() => {\n    setSlideRows(slides[category])\n  }, [slides, category])\n\n  useEffect(() => {\n    const fuse = new Fuse(slideRows, {\n      keys: ['data.description', 'data.title', 'data.genre'],\n    })\n    const results = fuse.search(searchTerm).map(({ item }) => item)\n\n    if (slideRows.length > 0 && searchTerm.length > 3 && results.length > 0) {\n      setSlideRows(results)\n    } else {\n      setSlideRows(slides[category])\n    }\n  }, [searchTerm])\n\n  return profile.displayName ? (\n    <>\n      {loading ? <Loading src={user.photoURL} /> : <Loading.ReleaseBody />}\n\n      <Header src='joker1' dontShowOnSmallViewPort>\n        <Header.Frame>\n          <Header.Group>\n            <Header.Logo to={ROUTES.HOME} src={logo} alt='Netflix' />\n            <Header.TextLink\n              active={category === 'series' ? 'true' : 'false'}\n              onClick={() => setCategory('series')}\n            >\n              Series\n            </Header.TextLink>\n            <Header.TextLink\n              active={category === 'films' ? 'true' : 'false'}\n              onClick={() => setCategory('films')}\n            >\n              Films\n            </Header.TextLink>\n          </Header.Group>\n          <Header.Group>\n            <Header.Search\n              searchTerm={searchTerm}\n              setSearchTerm={setSearchTerm}\n            />\n            <Header.Profile>\n              <Header.Picture src={user.photoURL} />\n              <Header.Dropdown>\n                <Header.Group>\n                  <Header.Picture src={user.photoURL} />\n                  <Header.TextLink>{user.displayName}</Header.TextLink>\n                </Header.Group>\n                <Header.Group>\n                  <Header.TextLink onClick={() => firebase.auth().signOut()}>\n                    Sign out\n                  </Header.TextLink>\n                </Header.Group>\n              </Header.Dropdown>\n            </Header.Profile>\n          </Header.Group>\n        </Header.Frame>\n\n        <Header.Feature>\n          <Header.FeatureCallOut>Watch Joker Now</Header.FeatureCallOut>\n          <Header.Text>\n            Forever alone in a crowd, failed comedian Arthur Fleck seeks\n            connection as he walks the streets of Gotham City. Arthur wears two\n            masks -- the one he paints for his day job as a clown, and the guise\n            he projects in a futile attempt to feel like he is part of the world\n            around him.\n          </Header.Text>\n          <Header.PlayButton>Play</Header.PlayButton>\n        </Header.Feature>\n      </Header>\n\n      <Card.Group>\n        {slideRows.map((slideItem) => (\n          <Card key={`${category}-${slideItem.title.toLowerCase()}`}>\n            <Card.Title>{slideItem.title}</Card.Title>\n            <Card.Entities>\n              {slideItem.data.map((item) => (\n                <Card.Item key={item.docId} item={item}>\n                  <Card.Image\n                    src={`/images/${category}/${item.genre}/${item.slug}/small.jpg`}\n                  />\n                  <Card.Meta>\n                    <Card.SubTitle>{item.title}</Card.SubTitle>\n                    <Card.Text>{item.description}</Card.Text>\n                  </Card.Meta>\n                </Card.Item>\n              ))}\n            </Card.Entities>\n            <Card.Feature category={category}>\n              <Player>\n                <Player.Button />\n                <Player.Video src='/videos/bunny.mp4' />\n              </Player>\n            </Card.Feature>\n          </Card>\n        ))}\n      </Card.Group>\n      <FooterContainer />\n    </>\n  ) : (\n    <SelectProfileContainer user={user} setProfile={setProfile} />\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}