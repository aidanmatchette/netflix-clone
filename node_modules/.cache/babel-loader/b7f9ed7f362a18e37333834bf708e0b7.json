{"ast":null,"code":"import _slicedToArray from\"/Users/aidanmatchette/quebec/projects/netflix/netflix-clone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext}from'react';/* eslint-disable */import{useNavigate}from'react-router-dom';/* eslint-enable*/import{FirebaseContext}from'../context/firebase';import{FooterContainer}from'../containers/footer';import{HeaderContainer}from'../containers/header';import{Form}from'../components';import*as ROUTES from'../constants/routes';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Signin(){var navigate=useNavigate();var _useContext=useContext(FirebaseContext),firebase=_useContext.firebase;var _useState=useState(),_useState2=_slicedToArray(_useState,2),emailAddress=_useState2[0],setEmailAddress=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];/* eslint-disable */var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];/* eslint-enable*/var isInvalid=password===''||emailAddress==='';var handleSignIn=function handleSignIn(event){event.preventDefault();return firebase.auth().signInWithEmailAndPassword(emailAddress,password).then(function(){//push to the browse page\nnavigate(ROUTES.BROWSE);}).catch(function(error){setEmailAddress('');setPassword('');setError(error.message);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(HeaderContainer,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(Form.Title,{children:\"Sign In Now\"}),error&&/*#__PURE__*/_jsx(Form.Error,{\"data-testid\":\"error\",children:error}),/*#__PURE__*/_jsxs(Form.Base,{onSubmit:handleSignIn,method:\"POST\",children:[/*#__PURE__*/_jsx(Form.Input,{placeholder:\"Email address\",value:emailAddress,onChange:function onChange(_ref){var target=_ref.target;return setEmailAddress(target.value);}}),/*#__PURE__*/_jsx(Form.Input,{type:\"password\",autoComplete:\"off\",placeholder:\"Password\",value:password,onChange:function onChange(_ref2){var target=_ref2.target;return setPassword(target.value);}}),/*#__PURE__*/_jsx(Form.Submit,{\"data-testid\":\"sign-in\",disabled:isInvalid,type:\"submit\",children:\"Sign In\"})]}),/*#__PURE__*/_jsxs(Form.Text,{children:[\"New to Netflix? \",/*#__PURE__*/_jsx(Form.Link,{to:\"/signup\",children:\"Sign up now.\"})]}),/*#__PURE__*/_jsx(Form.TextSmall,{children:\"This page is protected by Google reCAPTCHA to ensure that you are not a bot. Learn more.\"})]})}),/*#__PURE__*/_jsx(FooterContainer,{}),\";\"]});}","map":{"version":3,"names":["React","useState","useContext","useNavigate","FirebaseContext","FooterContainer","HeaderContainer","Form","ROUTES","Signin","navigate","firebase","emailAddress","setEmailAddress","password","setPassword","error","setError","isInvalid","handleSignIn","event","preventDefault","auth","signInWithEmailAndPassword","then","BROWSE","catch","message","target","value"],"sources":["/Users/aidanmatchette/quebec/projects/netflix/netflix-clone/src/pages/signin.js"],"sourcesContent":["import React, { useState, useContext } from 'react'\n/* eslint-disable */\nimport { useNavigate } from 'react-router-dom'\n/* eslint-enable*/\nimport { FirebaseContext } from '../context/firebase'\nimport { FooterContainer } from '../containers/footer'\nimport { HeaderContainer } from '../containers/header'\nimport { Form } from '../components'\nimport * as ROUTES from '../constants/routes'\n\nexport default function Signin() {\n  const navigate = useNavigate()\n  const { firebase } = useContext(FirebaseContext)\n  const [emailAddress, setEmailAddress] = useState()\n  const [password, setPassword] = useState()\n  /* eslint-disable */\n  const [error, setError] = useState('')\n  /* eslint-enable*/\n  const isInvalid = password === '' || emailAddress === ''\n\n  const handleSignIn = (event) => {\n    event.preventDefault()\n    return firebase\n      .auth()\n      .signInWithEmailAndPassword(emailAddress, password)\n      .then(() => {\n        //push to the browse page\n        navigate(ROUTES.BROWSE)\n      })\n      .catch((error) => {\n        setEmailAddress('')\n        setPassword('')\n        setError(error.message)\n      })\n  }\n\n  return (\n    <>\n      <HeaderContainer>\n        <Form>\n          <Form.Title>Sign In Now</Form.Title>\n          {error && <Form.Error data-testid='error'>{error}</Form.Error>}\n\n          <Form.Base onSubmit={handleSignIn} method='POST'>\n            <Form.Input\n              placeholder='Email address'\n              value={emailAddress}\n              onChange={({ target }) => setEmailAddress(target.value)}\n            />\n            <Form.Input\n              type='password'\n              autoComplete='off'\n              placeholder='Password'\n              value={password}\n              onChange={({ target }) => setPassword(target.value)}\n            />\n            <Form.Submit data-testid='sign-in' disabled={isInvalid} type='submit'>\n              Sign In\n            </Form.Submit>\n          </Form.Base>\n\n          <Form.Text>\n            New to Netflix? <Form.Link to='/signup'>Sign up now.</Form.Link>\n          </Form.Text>\n          <Form.TextSmall>\n            This page is protected by Google reCAPTCHA to ensure that you are\n            not a bot. Learn more.\n          </Form.TextSmall>\n        </Form>\n      </HeaderContainer>\n      <FooterContainer />;\n    </>\n  )\n}\n"],"mappings":"iJAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,KAA4C,OAA5C,CACA,oBACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,kBACA,OAASC,eAAT,KAAgC,qBAAhC,CACA,OAASC,eAAT,KAAgC,sBAAhC,CACA,OAASC,eAAT,KAAgC,sBAAhC,CACA,OAASC,IAAT,KAAqB,eAArB,CACA,MAAO,GAAKC,OAAZ,KAAwB,qBAAxB,C,6IAEA,cAAe,SAASC,OAAT,EAAkB,CAC/B,GAAMC,SAAQ,CAAGP,WAAW,EAA5B,CACA,gBAAqBD,UAAU,CAACE,eAAD,CAA/B,CAAQO,QAAR,aAAQA,QAAR,CACA,cAAwCV,QAAQ,EAAhD,wCAAOW,YAAP,eAAqBC,eAArB,eACA,eAAgCZ,QAAQ,EAAxC,yCAAOa,QAAP,eAAiBC,WAAjB,eACA,oBACA,eAA0Bd,QAAQ,CAAC,EAAD,CAAlC,yCAAOe,KAAP,eAAcC,QAAd,eACA,kBACA,GAAMC,UAAS,CAAGJ,QAAQ,GAAK,EAAb,EAAmBF,YAAY,GAAK,EAAtD,CAEA,GAAMO,aAAY,CAAG,QAAfA,aAAe,CAACC,KAAD,CAAW,CAC9BA,KAAK,CAACC,cAAN,GACA,MAAOV,SAAQ,CACZW,IADI,GAEJC,0BAFI,CAEuBX,YAFvB,CAEqCE,QAFrC,EAGJU,IAHI,CAGC,UAAM,CACV;AACAd,QAAQ,CAACF,MAAM,CAACiB,MAAR,CAAR,CACD,CANI,EAOJC,KAPI,CAOE,SAACV,KAAD,CAAW,CAChBH,eAAe,CAAC,EAAD,CAAf,CACAE,WAAW,CAAC,EAAD,CAAX,CACAE,QAAQ,CAACD,KAAK,CAACW,OAAP,CAAR,CACD,CAXI,CAAP,CAYD,CAdD,CAgBA,mBACE,wCACE,KAAC,eAAD,wBACE,MAAC,IAAD,yBACE,KAAC,IAAD,CAAM,KAAN,0BADF,CAEGX,KAAK,eAAI,KAAC,IAAD,CAAM,KAAN,EAAY,cAAY,OAAxB,UAAiCA,KAAjC,EAFZ,cAIE,MAAC,IAAD,CAAM,IAAN,EAAW,QAAQ,CAAEG,YAArB,CAAmC,MAAM,CAAC,MAA1C,wBACE,KAAC,IAAD,CAAM,KAAN,EACE,WAAW,CAAC,eADd,CAEE,KAAK,CAAEP,YAFT,CAGE,QAAQ,CAAE,2BAAGgB,OAAH,MAAGA,MAAH,OAAgBf,gBAAe,CAACe,MAAM,CAACC,KAAR,CAA/B,EAHZ,EADF,cAME,KAAC,IAAD,CAAM,KAAN,EACE,IAAI,CAAC,UADP,CAEE,YAAY,CAAC,KAFf,CAGE,WAAW,CAAC,UAHd,CAIE,KAAK,CAAEf,QAJT,CAKE,QAAQ,CAAE,4BAAGc,OAAH,OAAGA,MAAH,OAAgBb,YAAW,CAACa,MAAM,CAACC,KAAR,CAA3B,EALZ,EANF,cAaE,KAAC,IAAD,CAAM,MAAN,EAAa,cAAY,SAAzB,CAAmC,QAAQ,CAAEX,SAA7C,CAAwD,IAAI,CAAC,QAA7D,qBAbF,GAJF,cAsBE,MAAC,IAAD,CAAM,IAAN,4CACkB,KAAC,IAAD,CAAM,IAAN,EAAW,EAAE,CAAC,SAAd,0BADlB,GAtBF,cAyBE,KAAC,IAAD,CAAM,SAAN,uGAzBF,GADF,EADF,cAiCE,KAAC,eAAD,IAjCF,OADF,CAqCD"},"metadata":{},"sourceType":"module"}